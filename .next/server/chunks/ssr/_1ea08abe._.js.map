{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Charan%20Kosari/Desktop/jeevic_admin/components/breadcrumb.tsx"],"sourcesContent":["import Link from \"next/link\"\r\nimport { ChevronRight } from \"lucide-react\"\r\n\r\ninterface BreadcrumbProps {\r\n  items: string[];\r\n}\r\n\r\nexport function Breadcrumb({ items }: BreadcrumbProps) {\r\n  return (\r\n    <div className=\"px-6 pt-3 flex items-center text-sm\">\r\n      {items.map((item, index) => (\r\n        <div key={index} className=\"flex items-center\">\r\n          {index > 0 && <ChevronRight size={16} className=\"mx-2 text-black\" />}\r\n          <Link\r\n            href=\"#\"\r\n            // TODO: Replace '#' with actual item.href if available\r\n\r\n            className={`${\r\n              index === items.length - 1 ? \"text-gray-800 font-medium\" : \"text-black hover:text-gray-700\"\r\n            }`}\r\n          >\r\n            {item}\r\n          </Link>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAMO,SAAS,WAAW,EAAE,KAAK,EAAmB;IACnD,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,8OAAC;gBAAgB,WAAU;;oBACxB,QAAQ,mBAAK,8OAAC,sNAAA,CAAA,eAAY;wBAAC,MAAM;wBAAI,WAAU;;;;;;kCAChD,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,uDAAuD;wBAEvD,WAAW,GACT,UAAU,MAAM,MAAM,GAAG,IAAI,8BAA8B,kCAC3D;kCAED;;;;;;;eAVK;;;;;;;;;;AAgBlB","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Charan%20Kosari/Desktop/jeevic_admin/app/table-reservations/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Breadcrumb } from \"@/components/breadcrumb\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { APISDK, IDineInTableBooking } from \"@/libs/api\";\r\n\r\nexport default function TableReservationsPage() {\r\n  const [bookings, setBookings] = useState<IDineInTableBooking[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [selectedTab, setSelectedTab] = useState(\"today\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"access_token\");\r\n    const fetchData = async () => {\r\n      try {\r\n        const api = APISDK.getInstance(token);\r\n        const bookingsRes = await api.getBookings();\r\n\r\n        // Normalize data\r\n        const normalized = bookingsRes.data.map((b: any) => ({\r\n          ...b,\r\n          table_id: b.table_id === \"undefined\" ? undefined : b.table_id,\r\n          booking_date: new Date(b.booking_date),\r\n          from_time: new Date(b.from_time),\r\n        }));\r\n\r\n        setBookings(normalized);\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        console.error(\"Error fetching bookings:\", error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen\">\r\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isToday = (date: Date) => {\r\n    const today = new Date();\r\n    return (\r\n      date.getDate() === today.getDate() &&\r\n      date.getMonth() === today.getMonth() &&\r\n      date.getFullYear() === today.getFullYear()\r\n    );\r\n  };\r\n\r\n  const isPast = (date: Date) => date < new Date() && !isToday(date);\r\n  const isFuture = (date: Date) => date > new Date() && !isToday(date);\r\n\r\n  const unassignedBookings = bookings.filter(\r\n    (booking) => !booking.table_id || booking.table_id === \"\"\r\n  );\r\n\r\n  const pastBookings = unassignedBookings.filter((b) => isPast(b.booking_date));\r\n  const todayBookings = unassignedBookings.filter((b) =>\r\n    isToday(b.booking_date)\r\n  );\r\n  const futureBookings = unassignedBookings.filter((b) =>\r\n    isFuture(b.booking_date)\r\n  );\r\n\r\n  const tabs = [\r\n    { key: \"today\", label: \"Today\" },\r\n    { key: \"upcoming\", label: \"Upcoming\" },\r\n    { key: \"past\", label: \"Past\" },\r\n  ];\r\n\r\n  const filteredBookings = () => {\r\n    let data: IDineInTableBooking[] = [];\r\n    if (selectedTab === \"today\") data = todayBookings;\r\n    else if (selectedTab === \"upcoming\") data = futureBookings;\r\n    else if (selectedTab === \"past\") data = pastBookings;\r\n\r\n    if (searchQuery.trim() !== \"\") {\r\n      data = data.filter(\r\n        (b) =>\r\n          b.name?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n          b.phone?.includes(searchQuery)\r\n      );\r\n    }\r\n\r\n    return data;\r\n  };\r\n\r\n  const BookingCard = ({ booking }: { booking: IDineInTableBooking }) => (\r\n    <div className=\"p-4 border rounded-xl shadow-sm bg-white hover:shadow-md transition duration-200 space-y-1\">\r\n      <div className=\"flex justify-between items-center mb-2\">\r\n        <h4 className=\"text-gray-900 font-semibold\">\r\n          Booking ID: {booking.id}\r\n        </h4>\r\n        <span\r\n          className={`text-xs px-2 py-1 rounded-full ${\r\n            booking.is_confirmed\r\n              ? \"bg-green-100 text-green-700\"\r\n              : \"bg-yellow-100 text-yellow-700\"\r\n          }`}\r\n        >\r\n          {booking.is_confirmed ? \"Confirmed\" : \"Pending\"}\r\n        </span>\r\n      </div>\r\n      <p className=\"text-gray-800\">\r\n        <strong>Name:</strong> {booking.name || \"N/A\"}\r\n      </p>\r\n      <p className=\"text-gray-800\">\r\n        <strong>Phone:</strong> {booking.phone || \"N/A\"}\r\n      </p>\r\n      <div className=\"flex gap-4 text-gray-800\">\r\n        <p>\r\n          <strong>Date:</strong>{\" \"}\r\n          {booking.booking_date.toLocaleDateString(\"en-GB\", {\r\n            day: \"2-digit\",\r\n            month: \"2-digit\",\r\n            year: \"numeric\",\r\n          })}\r\n        </p>\r\n      </div>\r\n      <p className=\"text-gray-800\">\r\n        <strong>Time:</strong> {booking.from_time.toLocaleTimeString()}\r\n      </p>\r\n      <p className=\"text-gray-800\">\r\n        <strong>People:</strong> {booking.number_of_people}\r\n      </p>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Breadcrumb items={[\"Cafe\", \"Table Reservations\"]} />\r\n      <main className=\"flex-1 p-6 bg-gray-50 min-h-screen\">\r\n        <h2 className=\"text-3xl text-gray-900 font-bold mb-6\">\r\n          Table Reservations\r\n        </h2>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex overflow-x-auto gap-4 mb-6\">\r\n          {tabs.map((tab) => (\r\n            <button\r\n              key={tab.key}\r\n              className={`px-4 py-2 rounded-full border font-medium ${\r\n                selectedTab === tab.key\r\n                  ? \"bg-gray-900 text-white\"\r\n                  : \"border-gray-300 text-gray-700\"\r\n              }`}\r\n              onClick={() => setSelectedTab(tab.key)}\r\n            >\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Search */}\r\n        <div className=\"mb-6\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by name or phone...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            className=\"w-full max-w-md px-4 py-2 border text-gray-900 border-gray-300 placeholder-gray-600 rounded-md shadow-sm focus:ring-gray-800 focus:border-gray-800 outline-none\"\r\n          />\r\n        </div>\r\n\r\n        {/* Bookings */}\r\n        {filteredBookings().length > 0 ? (\r\n          <div className=\"grid md:grid-cols-2 gap-4\">\r\n            {filteredBookings().map((booking) => (\r\n              <BookingCard key={booking.id} booking={booking} />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center text-gray-600 text-lg mt-16\">\r\n            No {selectedTab} bookings found.\r\n          </div>\r\n        )}\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}